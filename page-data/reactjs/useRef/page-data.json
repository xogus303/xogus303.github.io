{"componentChunkName":"component---src-templates-post-template-tsx","path":"/reactjs/useRef/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<blockquote>\n<p>리액트에서 useRef의 역할과 일반 변수와의 차이점에 대하여 알아보자.</p>\n</blockquote>\n<hr>\n<h1>useRef</h1>\n<p>렌더링에 필요하지 않은 값을 참조할 수 있는 React Hook. 컴포넌트의 최상위 레벨에서 호출하여 <code class=\"language-text\">ref</code>를 선언합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">impor <span class=\"token punctuation\">{</span> useRef <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> ref <span class=\"token operator\">=</span> <span class=\"token function\">useRef</span><span class=\"token punctuation\">(</span>initialValue<span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>매개변수(initialValue): ref 객체의 <code class=\"language-text\">current</code> 프로퍼티 초기 설정값으로 어떤 유형의 값이든 지정할 수 있습니다. 이 인자는 초기 렌더링에만 적용되며 이후 렌더링부터는 무시됩니다.</li>\n<li>반환값: 단일 프로퍼티 <code class=\"language-text\">current</code>를 가진 객체로 처음 전달한 <code class=\"language-text\">initialValue</code>로 설정됩니다. ref 객체를 JSX 노드의 <code class=\"language-text\">ref</code>어트리뷰트로 전달하면 React는 <code class=\"language-text\">current</code> 프로퍼티를 설정합니다.</li>\n</ul>\n<h3>주의사항</h3>\n<ul>\n<li><code class=\"language-text\">ref.current</code> 프로퍼티는 state와 <strong>달리 변이할 수 있으나</strong>, <strong>렌더링에 사용되는 객체(예: state의 일부)를 포함하는 경우 해당 객체를 변이해서는 안 됩니다.</strong></li>\n<li><strong><code class=\"language-text\">ref.current</code> 프로퍼티를 변경해도 React는 컴포넌트를 다시 렌더링하지 않습니다.</strong> ref는 일반 JavaScript 객체이기 때문에 React는 사용자가 언제 변경했는지 알지 못합니다.</li>\n<li>초기화를 제외하고는 <strong>렌더링 중에 <code class=\"language-text\">ref.current</code>를 쓰거나 읽으면 안됩니다.</strong> 컴포넌트의 동작을 예측할 수 없기 때문입니다.</li>\n<li>Strict Mode에서 컴포넌트 함수를 두 번 호출하여 의도하지 않은 변경을 찾을 수 있도록 돕는데, 각 ref 객체는 두 번 생성되고 그중 하나는 버리도록 처리되어 컴포넌트 함수가 순수하다면 로직에 영향을 미치지 않는지 확인할 수 있습니다.</li>\n</ul>\n<h1>값 참조하기</h1>\n<p><code class=\"language-text\">useRef</code>는 처음에 제공한 초기값으로 설정된 단일 <code class=\"language-text\">current</code>프로퍼티가 있는 객체를 반환합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useRef <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">Stopwatch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> intervalRef <span class=\"token operator\">=</span> <span class=\"token function\">useRef</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>다음 렌더링에서 동일한 객체를 반환하며, 정보를 저장하고 나중에 읽을 수 있도록 <code class=\"language-text\">current</code>속성을 변경할 수 있습니다.<br>\n<strong>ref를 변경해도 리렌더링을 촉발하지 않습니다.</strong> 즉 ref는 컴포넌트의 시각적 출력에 영향을 미치지 않는 정보를 저장하는데 적합합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">handleStartClick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> intervalId <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// ...</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n    intervalRef<span class=\"token punctuation\">.</span>current <span class=\"token operator\">=</span> intervalId<span class=\"token punctuation\">;</span>\n    <span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>intervalId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>(렌더링할 때마다 재설정되는 일반 변수와 달리) 리렌더링 사이에 <strong>정보를 저장</strong>할 수 있습니다.</li>\n<li>(리렌더링을 촉발하는 state와 달리) 변경해도 <strong>리렌더링을 촉발하지 않습니다.</strong></li>\n<li>(정보가 공유되는 외부 변수와 달리) 각각의 컴포넌트에 <strong>로컬로 저장됩니다.</strong></li>\n</ul>\n<h1>렌더링 중 ref.current의 읽기/쓰기</h1>\n<p>React는 컴포넌트의 본문이 순수 함수처럼 동작하기를 기대합니다.</p>\n<ul>\n<li>입력값들(props, state,context)이 동일하면 완전히 동일한 JSX를 반환해야 합니다.</li>\n<li>다른 순서나 다른 인수를 사용하여 호출해도 다른 호출의 결과에 영향을 미치지 않아야 햡나다.</li>\n</ul>\n<p>아래 예시 코드의 경우 이러한 원칙에 위배됩니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useRef <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">RefTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> label <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> countRef <span class=\"token operator\">=</span> <span class=\"token function\">useRef</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  countRef<span class=\"token punctuation\">.</span>current <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ❌ 렌더링 중 ref 변경 (부작용 발생 가능)</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>label<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>렌더링 <span class=\"token function\">횟수</span> <span class=\"token punctuation\">(</span>ref<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>countRef<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>label<span class=\"token punctuation\">,</span> setLabel<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>RefTest label<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>label<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setLabel</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>강제 렌더<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<ul>\n<li>위 코드에서 버튼을 클릭하면, label은 변하지 않지만, setState 호출로 강제로 리렌더링이 일어납니다.</li>\n<li>이때 <code class=\"language-text\">countRef.current += 1</code>이 실행되기 때문에, 렌더링할 때마다 값이 증가합니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useRef <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">RefTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> label <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> countRef <span class=\"token operator\">=</span> <span class=\"token function\">useRef</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 렌더링 이후에 count를 증가시킴 (부작용 → useEffect 안에서 처리)</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    countRef<span class=\"token punctuation\">.</span>current <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>label<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>렌더링 <span class=\"token function\">횟수</span> <span class=\"token punctuation\">(</span>ref<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>countRef<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위처럼 이벤트 핸들러나 Effect에서 ref를 읽거나 쓰는 것이 React의 순수성과 렌더링 안전성을 준수할 수 있습니다.</p>\n<blockquote>\n<p>React는 결과보다 타이밍과 예측 가능성을 중시합니다.\n위 두 가지 예시 코드에서는 결론적으로 같은 리렌더링 횟수를 표시하지만 컴포넌트의 복잡도가 올라가는 경우 렌더링 결과 자체가 <code class=\"language-text\">ref</code> 값에 따라 달라질 수 있습니다.<br>\n렌더링 중 변경은 렌더 자체를 오염시킬 위험이 있고,<br>\n렌더링 후 변경은 React의 예측 가능한 흐름안에서 처리되므로 안전합니다.</p>\n</blockquote>\n<h1>DOM 조작하기</h1>\n<p>ref를 사용하여 DOM을 조작하는 것은 특히 일반적입니다.<br>\n초기값이 null인 ref객체를 선언하고 조작하려는 DOM 노드의 JSX에 전달합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">myComponent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> inputRef <span class=\"token operator\">=</span> <span class=\"token function\">useRef</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">handleClick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    inputRef<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span><span class=\"token function\">focus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>input ref<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>inputRef<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>React가 DOM 노드를 생성하고 화면에 그린 후, React는 ref 객체의 current 프로퍼티를 DOM 노드로 설정합니다.<br>\n이제 DOM 노드 <code class=\"language-text\">&lt;input></code>에 접근해 <code class=\"language-text\">focus()</code>와 같은 메서드를 호출할 수 있습니다.<br>\n노드가 화면에서 제거되면 React는 <code class=\"language-text\">current</code>프로퍼티를 다시 <code class=\"language-text\">null</code>로 설정합니다.</p>\n<h1><code class=\"language-text\">let</code>으로 선언한 변수</h1>\n<p><code class=\"language-text\">let</code>으로 선언한 변수는 컴포넌트가 <strong>리렌더링 될 때마다 초기화</strong>되어서 이전 값을 잃어버리는 반면,<br>\n<code class=\"language-text\">useRef()</code>로 만든 변수는 <strong>리렌더링 되어도 값이 유지</strong>됩니다.(또한 값이 변경되어도 컴포넌트가 리렌더링을 유발하지 않음)<br>\n따라서 <code class=\"language-text\">useRef()</code>는 주로 <strong>DOM요소에 접근할 때 사용하고 <code class=\"language-text\">setTimeout()</code>이나 <code class=\"language-text\">setInterval()</code>의 ID를 저장할 때도 유용</strong>합니다. 컴포넌트가 리렌더링 되어도 타이머 ID가 유지되어야 <code class=\"language-text\">cleanup</code> 함수에서 해당 값을 이용하여 타이머를 정리할 수 있기 때문입니다.</p>\n<h1>컴포넌트 위부에서 선언한 변수</h1>\n<p>컴포넌트 외부에서 선언된 변수는 리렌더링의 영향을 받지 않지만 다음과 같은 이유로 권장되지 않는 패턴입니다.</p>\n<ul>\n<li>컴포넌트 외부의 변수는 모든 컴포넌트 인스턴스가 공유합니다. 따라서 같은 컴포넌트를 여러 번 사용할 때 예상치 못한 동작이 발생할 수 있습니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">// 컴포넌트 외부 변수 (모든 인스턴스가 공유)</span>\n<span class=\"token keyword\">let</span> sharedCount <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">Counter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleClick</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    sharedCount <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">공유 카운트: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>sharedCount<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>handleClick<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>증가<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Counter <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Counter <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<ul>\n<li>전역 변수처럼 동작하기 때문에 코드의 예측 가능성과 유지보수성이 떨어집니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">let</span> isLoggedIn <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">LoginToggle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">toggleLogin</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    isLoggedIn <span class=\"token operator\">=</span> <span class=\"token operator\">!</span>isLoggedIn<span class=\"token punctuation\">;</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">로그인 상태: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>isLoggedIn<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>toggleLogin<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>토글 로그인<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">StatusMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>isLoggedIn <span class=\"token operator\">?</span> <span class=\"token string\">\"환영합니다!\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"로그인 해주세요.\"</span><span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>LoginToggle <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>StatusMessage <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>React의 원칙 중 하나인 단방향 데이터 흐름에 위배됩니다. 상태 관리가 리액트의 생명주기 밖에서 이루어지기 때문입니다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">let</span> counter <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">ExternalCounter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">increase</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    counter <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">카운터 값: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>counter<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>카운터 값<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>counter<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>increase<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>증가<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<hr>\n<blockquote>\n<p>컴포넌트의 상태를 관리할 때는 <code class=\"language-text\">useState()</code>나 <code class=\"language-text\">useRef()</code>와 같은 리액트에서 제공하는 공식적인 방법을 사용하고 생명주기를 잘 지키는 것이 중요합니다.</p>\n</blockquote>\n<h1></h1>\n<h2>참고자료</h2>\n<ul>\n<li><a href=\"https://ko.react.dev/reference/react/useRef\" target=\"_blank\" rel=\"nofollow\"><a href=\"https://ko.react.dev/reference/react/useRef\" target=\"_blank\" rel=\"nofollow\">https://ko.react.dev/reference/react/useRef</a></a></li>\n</ul>","frontmatter":{"title":"react에서 useRef와 변수","series":"","summary":"useRef 훅의 사용과 let으로 선언한 값을 사용하는 것의 차이","date":"2025.07.02","categories":["ReactJS"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC20lEQVR42j2S609ScRzG+XvaWi9qqxe9qFdlyy1faBcrW14wZYlD5Hq4HDgHwqMISF4z8ML96i0TWAOFAwJyAEXkonlrvXWtMMWdfoJre/bbfi+efZ/v5/lSrKmiLb1rSuRmYlnjRs6WLlqIvIXImYiiK7F5gmOnIUkphJZCyH+d4shZ+FIUS6poT++qvFGe2aNYChoTubmdo8XC8Xzh50p+93SjnyRkZEJGEvKKZGRSXo6hV2Ywdiq6LXUHWIZloc03EUwJp1yt8hFq3wQNGxnTQEq0a1TJ0igYWoyh6WP2oT2rJoiMon9xhFKJXVR7owKbb2AlYtjYaWTJWnphuhjjKoYGddZOWA2pJmuoUH0nGxZ1v2O8B35yQwbCUyzJgmt735HZNxEFQzxrTuabRUqmTA0PTYpU4wwpJuhXt3OlbRxJGwuSwsDcBeaT8YrZmdnXLAebRIPPuR8aelH1l9UJf5yvc9JUU2K9ZUEPWYcZ3imOeZj5Vc8GgcNWwaEHLkfQv2DnudyRaMZ97cGL649e3a6nPmPLBhcCuiDB1zkwy7x7Go45oKhLuDzNW9Tzjn0wmZKfraOnoQowV/YQc/nuNLTfbaTdf9N980kza8z0eS3BnbTzx2c9Rjhg5H2b5QfNEHg354UlHCmF0YsqMFf2QLngr6XxuzV6ulpXRxd3qXS6YFLh9KnnvH6rBDfzcKtgzQTFHQIQ+ym1o76FmlsUA+AUR+b7uD927zX9IZVd084Bk1tR7UL+h2P7cCmTK4Ge48hFXFaOgYZRjpDNGfjUKlCKRD2AGcW+uTe9vgW2BTvfqmu58bjprVTjzOwB+C5i6wTvO8MlAOyfEELGEG0/q7ZD8JKJznzkXJpBz2YiDxvmRdNuhdOjWgzo8TRo3pzacye3foWx87AEsAFsyxHkd0hq1DLto0zwPQ+jl2YgwBzInT0ACEAWa7JgqZojV+aqzsNI9U6r5/kPFjb+z7gUkesAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/217a68fd39cce1c362b1af10d10e530c/4d776/postThumbnail_250702.png","srcSet":"/static/217a68fd39cce1c362b1af10d10e530c/4a410/postThumbnail_250702.png 384w,\n/static/217a68fd39cce1c362b1af10d10e530c/f5189/postThumbnail_250702.png 768w,\n/static/217a68fd39cce1c362b1af10d10e530c/4d776/postThumbnail_250702.png 1536w","sizes":"(min-width: 1536px) 1536px, 100vw"},"sources":[{"srcSet":"/static/217a68fd39cce1c362b1af10d10e530c/b642b/postThumbnail_250702.webp 384w,\n/static/217a68fd39cce1c362b1af10d10e530c/c9564/postThumbnail_250702.webp 768w,\n/static/217a68fd39cce1c362b1af10d10e530c/18b4b/postThumbnail_250702.webp 1536w","type":"image/webp","sizes":"(min-width: 1536px) 1536px, 100vw"}]},"width":1536,"height":1024}},"publicURL":"/static/217a68fd39cce1c362b1af10d10e530c/postThumbnail_250702.png"},"thumbnailOrigin":null}}}]}},"pageContext":{"slug":"/reactjs/useRef/"}},"staticQueryHashes":["346855881"],"slicesMap":{}}